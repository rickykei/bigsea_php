import{f as o,a as s,b as e,c as a,d as l}from"./element-plus-d719af4d.js";import{r as i}from"./request-8d29728b.js";import{_ as t}from"./index-1dcb3896.js";import{c as m,O as r,R as p,o as d,a as n,V as g}from"./@vue-de0ab9c3.js";import"./lodash-es-493ac664.js";import"./@vueuse-588ef066.js";import"./dayjs-3f6c138b.js";import"./call-bind-a6dd5c06.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-9e5c8f38.js";import"./@popperjs-b78c3215.js";import"./escape-html-d3e23fdb.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./axios-63583d02.js";import"./qs-edfbe083.js";import"./side-channel-6da5de8a.js";import"./object-inspect-66d569d0.js";import"./vue-router-071bc8f6.js";import"./pinia-ad4762e9.js";let c={serviceDetail:(o,s)=>i._get("/admin/setting.service/index",o,s),editService:(o,s)=>i._post("/admin/setting.service/index",o,s)};const h={data:()=>({loading:!1,form:{shop_name:"",shop_bg_img:"",shop_logo_img:""}}),created(){this.getParams()},methods:{getParams(){let o=this;c.serviceDetail({},!0).then((s=>{o.form.shop_name=s.data.vars.values.shop_name,o.form.shop_bg_img=s.data.vars.values.shop_bg_img,o.form.shop_logo_img=s.data.vars.values.shop_logo_img,o.loading=!1})).catch((s=>{o.loading=!1}))},onSubmit(){let s=this,e=this.form;s.$refs.form.validate((a=>{a&&(s.loading=!0,c.editService(e,!0).then((e=>{s.loading=!1,o({message:"恭喜你，设置成功",type:"success"}),s.$router.push("/setting/Index")})).catch((o=>{s.loading=!1})))}))}}},u={class:"product-add"},_=n("div",{class:"common-form"},"商城后台设置",-1),f=n("div",{class:"tips"}," shop端商城名称，显示在登录页 ",-1),j=n("div",{class:"tips"}," shop端商城登录背景，不填则为系统默认登录背景，填写网络地址 ",-1),v=n("div",{class:"tips"}," shop端商城登录logo，不填则为系统默认登录logo，填写网络地址 ",-1),b={class:"button-wrapper"};const x=t(h,[["render",function(o,i,t,c,h,x){const V=e,w=a,y=l,S=s;return d(),m("div",u,[r(S,{ref:"form",model:h.form,"label-width":"150px"},{default:p((()=>[_,r(w,{label:"商城系统名称",rules:[{required:!0,message:" "}],prop:"shop_name"},{default:p((()=>[r(V,{modelValue:h.form.shop_name,"onUpdate:modelValue":i[0]||(i[0]=o=>h.form.shop_name=o),placeholder:"商城名称",class:"max-w460"},null,8,["modelValue"]),f])),_:1}),r(w,{label:"商城登录背景",prop:"shop_bg_img"},{default:p((()=>[r(V,{modelValue:h.form.shop_bg_img,"onUpdate:modelValue":i[1]||(i[1]=o=>h.form.shop_bg_img=o),placeholder:"商城登录背景",class:"max-w460"},null,8,["modelValue"]),j])),_:1}),r(w,{label:"商城登录logo",prop:"shop_logo_img"},{default:p((()=>[r(V,{modelValue:h.form.shop_logo_img,"onUpdate:modelValue":i[2]||(i[2]=o=>h.form.shop_logo_img=o),placeholder:"商城登录logo",class:"max-w460"},null,8,["modelValue"]),v])),_:1}),n("div",b,[r(y,{type:"primary",onClick:x.onSubmit,loading:h.loading},{default:p((()=>[g("提交")])),_:1},8,["onClick","loading"])])])),_:1},8,["model"])])}]]);export{x as default};
