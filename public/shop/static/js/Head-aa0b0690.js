import{i as e,E as t,s,t as a}from"./element-plus-2311c378.js";import{u as i,_ as r}from"./index-4e0f3baf.js";import{b as o}from"./vue-router-163d765a.js";import p from"./UpdatePassword-3e79205a.js";import{F as n,K as u,z as l,L as c,al as h,o as m,c as d,a as y,X as b,P as v,S as _,Q as j,a8 as x,T as f,Y as g}from"./@vue-8009ac6a.js";import"./@vueuse-fc6bc671.js";import"./lodash-es-b547037d.js";import"./async-validator-cf877c1f.js";import"./@element-plus-0f32f795.js";import"./dayjs-13b7e569.js";import"./call-bind-6a1b7bd0.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./pinia-57aa1789.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./qs-74887072.js";import"./side-channel-9348fcaa.js";import"./object-inspect-c71aff05.js";import"./vue-ueditor-wrap-71bb720e.js";import"./user-aa3e55e3.js";const q=n({components:{UpdatePassword:p},setup(){const e=o(),{userInfo:t,bus_on:s,bus_emit:a,bus_off:r,afterLogout:p}=i(),n=u({menu_title:"菜单",tabList:[],activeValue:0,is_password:!1,tab_type:""});return s("MenuName",(e=>{n.menu_title=e})),s("tabData",(e=>{n.tabList=e.list,n.activeValue=e.active,n.tab_type=e.tab_type})),s("activeValue",(e=>{e&&e.params?n.activeValue=e.params:n.activeValue=e})),s("noTarget",(e=>{n.activeValue=e})),a("headLoad",!0),l((()=>{r("menuName"),r("tabData")})),{...c(n),userInfo:t,afterLogout:p,router:e,bus_emit:a}},methods:{exit(){e.confirm("此操作将退出登录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.logout()})).catch((()=>{t({type:"info",message:"已取消退出"})}))},async logout(){await this.afterLogout(),this.router.push("/login")},tabClick(e){let t=e.props;"queuemanage"==this.tab_type&&this.router.push({path:"/plus/queue/index",query:{type:t.name}}),"tablemanage"==this.tab_type&&this.router.push({path:"/store/table/index",query:{type:t.name}}),"takeaway"==this.tab_type&&this.$router.push({path:"/product/takeaway/index",query:{type:t.name}}),"storeproduct"==this.tab_type&&this.$router.push({path:"/product/store/index",query:{type:t.name}}),"expand"==this.tab_type&&this.$router.push({path:"/product/expand/index",query:{type:t.name}}),"agent"==this.tab_type&&this.$router.push({path:"/plus/agent/index",query:{type:t.name}}),"driver"==this.tab_type&&this.$router.push({path:"/plus/driver/index",query:{type:t.name}}),"coupon"==this.tab_type&&this.$router.push({path:"/plus/coupon/index",query:{type:t.name}}),"points"==this.tab_type&&this.$router.push({path:"/plus/points/index",query:{type:t.name}}),"seckill"==this.tab_type&&this.$router.push({path:"/plus/seckill/index",query:{type:t.name}}),"assemble"==this.tab_type&&this.$router.push({path:"/plus/assemble/index",query:{type:t.name}}),"bargain"==this.tab_type&&this.$router.push({path:"/plus/bargain/index",query:{type:t.name}}),"store"==this.tab_type&&this.$router.push({path:"/store/index",query:{type:t.name}}),"takeout"==this.tab_type&&this.$router.push({path:"/takeout/index",query:{type:t.name}}),"appopen"==this.tab_type&&this.$router.push({path:"/appsetting/appopen/event",query:{type:t.name}}),this.activeValue=t.name,this.bus_emit("activeValue",t.name)},passwordFunc(){this.is_password=!0},closeFunc(){this.is_password=!1}}}),k={class:"common-header"},w={class:"breadcrumb"},$={class:"baseInfo-left-base d-s-c"},V={class:"name"},C={class:"el-tabs-container"},L={class:"header-navbar"},T={class:"header-navbar-icon"},F={class:"gray"},I={class:"header-navbar-icon"},P=y("span",{class:"ml4 icon iconfont icon-geren9"},null,-1),N={class:"text ml4 blue"},U=y("div",{class:"header-navbar-icon"},[y("span",{class:"gray"},"|")],-1),z=[y("span",{class:"text"},"修改密码",-1)],B=[y("span",{class:"icon iconfont icon-tuichu"},null,-1),y("span",{class:"text ml4"},"退出",-1)];const D=r(q,[["render",function(e,t,i,r,o,p){const n=s,u=a,l=h("UpdatePassword");return m(),d("div",k,[y("div",w,[y("div",$,[y("span",V,b(e.menu_title),1),y("div",C,[v(u,{"model-value":e.activeValue,onTabClick:e.tabClick},{default:_((()=>[(m(!0),d(j,null,x(e.tabList,((e,t)=>(m(),f(n,{label:e.value,name:e.key,key:t},null,8,["label","name"])))),128))])),_:1},8,["model-value","onTabClick"])])]),y("div",L,[y("div",T,[y("span",F,"当前版本："+b(e.userInfo.version),1)]),y("div",I,[P,y("span",N,b(e.userInfo.userName)+"，欢迎您！",1)]),U,y("div",{class:"header-navbar-icon",onClick:t[0]||(t[0]=t=>e.passwordFunc())},z),y("div",{class:"header-navbar-icon login-out",onClick:t[1]||(t[1]=t=>e.exit())},B)])]),e.is_password?(m(),f(l,{key:0,onClose:e.closeFunc},null,8,["onClose"])):g("",!0)])}]]);export{D as default};
